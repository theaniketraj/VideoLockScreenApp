<Window x:Class="VideoLockScreen.UI.Views.LockScreenWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Video Lock Screen"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowState="Maximized"
        Topmost="True"
        ShowInTaskbar="False"
        AllowsTransparency="False"
        Background="Black"
        KeyDown="Window_KeyDown"
        MouseDown="Window_MouseDown"
        Loaded="Window_Loaded"
        Closing="Window_Closing">
    
    <Window.Resources>
        <!-- Emergency Exit Instructions Style -->
        <Style x:Key="EmergencyTextStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Opacity" Value="0.0"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Bottom"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
            <Setter Property="TextAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <Grid Name="MainGrid">
        <!-- Video Display -->
        <MediaElement Name="VideoPlayer"
                      LoadedBehavior="Manual"
                      UnloadedBehavior="Stop"
                      Stretch="UniformToFill"
                      MediaOpened="VideoPlayer_MediaOpened"
                      MediaEnded="VideoPlayer_MediaEnded"
                      MediaFailed="VideoPlayer_MediaFailed"/>
        
        <!-- Emergency Exit Instructions (Initially Hidden) -->
        <TextBlock Name="EmergencyInstructions"
                   Style="{StaticResource EmergencyTextStyle}"
                   Text="Emergency Exit: Hold Ctrl+Alt+Shift+Esc for 3 seconds"/>
        
        <!-- Video Information Overlay (Initially Hidden) -->
        <Border Name="InfoOverlay"
                Background="#80000000"
                CornerRadius="5"
                Padding="10"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="20"
                Opacity="0.0">
            <StackPanel>
                <TextBlock Name="VideoTitle" 
                           Foreground="White" 
                           FontSize="16" 
                           FontWeight="Bold"/>
                <TextBlock Name="VideoInfo" 
                           Foreground="LightGray" 
                           FontSize="12" 
                           Margin="0,5,0,0"/>
                <TextBlock Name="PlaybackInfo" 
                           Foreground="LightGray" 
                           FontSize="12" 
                           Margin="0,5,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- Loading Indicator -->
        <Border Name="LoadingOverlay"
                Background="#80000000"
                Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" 
                        VerticalAlignment="Center">
                <ProgressBar Width="200" 
                             Height="10" 
                             IsIndeterminate="True"
                             Foreground="{StaticResource PrimaryBrush}"/>
                <TextBlock Text="Loading video..." 
                           Foreground="White" 
                           FontSize="16" 
                           HorizontalAlignment="Center" 
                           Margin="0,10,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- Error Display -->
        <Border Name="ErrorOverlay"
                Background="#90000000"
                Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" 
                        VerticalAlignment="Center">
                <TextBlock Name="ErrorIcon"
                           Text="⚠️" 
                           FontSize="48" 
                           HorizontalAlignment="Center" 
                           Foreground="#FF6B6B"/>
                <TextBlock Name="ErrorMessage"
                           Text="Video playback error" 
                           Foreground="White" 
                           FontSize="18" 
                           HorizontalAlignment="Center" 
                           Margin="0,10,0,0"
                           TextAlignment="Center"/>
                <TextBlock Text="Press Ctrl+Alt+Shift+Esc to exit" 
                           Foreground="LightGray" 
                           FontSize="14" 
                           HorizontalAlignment="Center" 
                           Margin="0,20,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>